# MPCMソースコード

wachoman氏の作成されたMPCMのソースコードです。  
改造版をブランチにコミットします。

`mzl`ブランチはMZL氏による改造版version 0.45A+2です。ソースコードは公開されていないようなので、
version 0.45Aのソースコードをもとに同一内容のバイナリが作成されるように編集してあります。

PCやネット上で扱いやすくするために、このリポジトリ内のテキストファイルは以下の変更がされています。
* 文字コードをUTF-8に変更。
* 改行をLFに変更。
* ファイル末尾の`EOF`制御記号を削除。
* ファイル名の整理(小文字化、数字のゼロ詰めなど)。
* ファイル拡張子の整理(ソース.s)。

<!-- -->
* 非公式情報: [既知の不具合](https://github.com/kg68k/x68.memo/blob/main/tool/bugs.md#mpcm-version-045a)


## Build

X680x0上でビルドする際には、ソースファイルのUTF-8からShift_JISへの変換が必要です。

### u8tosjを使用する方法

あらかじめ、[u8tosj](https://github.com/kg68k/u8tosj)をインストールしておいてください。

トップディレクトリで`make`を実行してください。以下の処理が行われます。
1. `build/`ディレクトリの作成。
3. `src/`内のファイルをShift_JISに変換して`build/`へ保存。

次に、カレントディレクトリを`build/`に変更し、`make`を実行してください。
実行ファイルが作成されます。

### u8tosjを使用しない方法

`src/`内のファイルを適当なツールで適宜Shift_JISに変換してから`make`を実行してください。
UTF-8のままでは正しくビルドできませんので注意してください。


## License
MPCMの著作権については特に明記されていませんが、ZMUSIC SYSTEM Ver.3.0系に同梱されて配布
されていることから、ZMUSICと同様の扱いで構わないものと判断しました。

ZM302_M.LZHのZM1.MAN「１．３．  著作権について」の項より引用:

>   法律上、日本では著作権の放棄ができませんので、著作権は作者西川善司に  
> 保留されます。しかし、プログラムの性質上、「ＺＭＵＳＩＣ」のオリジナルを  
> 開発した私、西川善司は「ＺＭＵＳＩＣ」及びこれらを支援するプログラム  
> (サブルーチンを含む)全ての使用権に関するライセンス権を放棄します。  
> よってとくに断らずに商的利用が出来ます。つまり市販だろうが同人だろうが勝手に  
> 「ＺＭＳＣ３．Ｘ」を組み込んだソフトを販売してもいいということです。  

version 0.45A+2については、MPCM45A2.LZH &gt; MPCM045Ap2.DOC「(注意)」の項より引用:

> 利用／再配布などは自己責任にてお願い致します。  
> 基本的に原作者(改造者ではない)の意志を尊重してください。  


## Author
MPCMの作者はwachoman氏です。  
version 0.45A+2のパッチ制作者はMZL氏です。  

このリポジトリの作成はTcbnErikによるものです。  
https://github.com/kg68k/mpcm
